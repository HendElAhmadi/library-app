CREATE TABLE BOOK (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    title VARCHAR2(255) NOT NULL,
    author VARCHAR2(255) NOT NULL,
    isbn VARCHAR2(255) UNIQUE,
    publication_date DATE NOT NULL,
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL
);

CREATE TABLE PATRON (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    patron_name VARCHAR2(255) NOT NULL,
    contact VARCHAR2(255) UNIQUE,
    email VARCHAR2(255) NOT NULL,
    created_at TIMESTAMP NOT NULL,
    updated_at TIMESTAMP NOT NULL
);

CREATE TABLE BORROWING_RECORD(
     id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
     book_id NUMBER NOT NULL,
     patron_id NUMBER NOT NULL,
     return_date TIMESTAMP NOT NULL,
     created_at TIMESTAMP NOT NULL,
     updated_at TIMESTAMP NOT NULL,
     has_returned NUMBER(1) DEFAULT 0,
     FOREIGN KEY (book_id) REFERENCES BOOK(id),
     FOREIGN KEY (patron_id) REFERENCES PATRON(id)
);